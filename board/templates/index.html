{% extends 'base.html' %}

{% load static %}
{% block content %}
<div class="container-fluid">
    <h1 class="mt-4">My Tables</h1>
    <div class="card mb-4">
        <table id="dataTable" width="100%" cellspacing="0"></table>
        <div class="card-body">
            <div class="table-responsive">
            </div>
        </div>
    </div>
</div>
{% endblock content %}

{% block script %}
<script>
function makeColeRule(arr){
    var template = '';
    
    for(var i=0; i<arr.length; i++){
        template += "<div> label: </div> <div>{name} </div>".replace('label', arr[i]['label']).replace('name', arr[i]['name']);
    }
    $('#jqGridTemplate').html(template)
    return arr;
}
var editor; // use a global for the submit and return data rendering in the examples
 
$(document).ready(function() {
    // editor = new $.fn.dataTable.Editor( {
    //     ajax: "{% static '/sample.json' %}",
    //     table: "#dataTable",
    //     fields: [ {
    //             label: "First name:",
    //             name: "first_name"
    //         }, {
    //             label: "Last name:",
    //             name: "last_name"
    //         }, {
    //             label: "Position:",
    //             name: "position"
    //         }, {
    //             label: "Office:",
    //             name: "office"
    //         }, {
    //             label: "Extension:",
    //             name: "extn"
    //         }, {
    //             label: "Start date:",
    //             name: "start_date",
    //             type: "datetime"
    //         }, {
    //             label: "Salary:",
    //             name: "salary"
    //         }
    //     ]
    // } );
 
    $('#dataTable').DataTable( {
        dom: "Bfrtip",
        ajax: "{% static '/sample.json' %}",
        columns: [
            { data: null, render: function ( data, type, row ) {
                // Combine the first and last names into a single table field
                return data.first_name+' '+data.last_name;
            } },
            { data: "position" },
            { data: "office" },
            { data: "extn" },
            { data: "start_date" },
            { data: "salary", render: $.fn.dataTable.render.number( ',', '.', 0, '$' ) }
        ],
        select: true,
        buttons: [
            // { extend: "create", editor: editor },
            // { extend: "edit",   editor: editor },
            // { extend: "remove", editor: editor }
        ]
    } );
} );

</script>

{% endblock script %}